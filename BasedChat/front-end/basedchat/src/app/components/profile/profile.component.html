<mat-card class="profile-card">
  <mat-card-header>
    <mat-card-title>Editar Perfil</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <!-- Avatar do Usuário -->
    <div class="avatar-section">
      <img [src]="avatarPreview || profileForm.get('avatar')?.value || 'https://example.com/default-avatar.png'" alt="Avatar" class="avatar-preview" />
      <input type="file" id="avatarUpload" (change)="onFileSelected($event)" accept="image/*" />
    </div>

    <!-- Formulário para editar informações do perfil -->
    <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
      <mat-form-field appearance="fill">
        <mat-label>Nome de Usuário</mat-label>
        <input matInput formControlName="username" placeholder="Digite seu nome de usuário">
        <mat-error *ngIf="profileForm.get('username')?.invalid && profileForm.get('username')?.touched">
          Nome de usuário é obrigatório e deve ter pelo menos 3 caracteres.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Bio</mat-label>
        <textarea matInput formControlName="bio" placeholder="Digite sua bio" maxlength="150"></textarea>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Status</mat-label>
        <input matInput formControlName="status" placeholder="Digite seu status">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" type="email" placeholder="Digite seu email">
        <mat-error *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched">
          Por favor, insira um email válido.
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">Salvar Alterações</button>
    </form>
  </mat-card-content>
</mat-card>

<mat-card class="password-card">
  <mat-card-header>
    <mat-card-title>Alterar Senha</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
      <mat-form-field appearance="fill">
        <mat-label>Senha Atual</mat-label>
        <input matInput formControlName="currentPassword" type="password" placeholder="Digite sua senha atual" required>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Nova Senha</mat-label>
        <input matInput formControlName="newPassword" type="password" placeholder="Digite sua nova senha" required>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Confirmar Nova Senha</mat-label>
        <input matInput formControlName="confirmPassword" type="password" placeholder="Confirme sua nova senha" required>
        <mat-error *ngIf="passwordForm.hasError('passwordsMismatch') && passwordForm.get('confirmPassword')?.touched">
          As senhas não correspondem.
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">Alterar Senha</button>
    </form>
  </mat-card-content>
</mat-card>

